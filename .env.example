# Required for AI features (Gemini)
GEMINI_API_KEY=

# Optional: Evotor integration (menu sync)

# Token for api.evotor.ru (can be received automatically via POST /api/v1/user/token)
EVOTOR_CLOUD_TOKEN=



# Optional: store id for Cloud v2 endpoints (/stores/{storeId}/...)
EVOTOR_STORE_ID=

# Optional: store UUID for v1 inventory endpoints (required for `/api/evotor/products` menu sync)
STORE_UUID=

# Optional: where to persist received tokens (default: ./.evotor/tokens.json)
EVOTOR_TOKEN_STORE_PATH=

# Optional: verify Evotor webhook call to POST /api/v1/user/token:

# - Token auth: Authorization: <token> (or Bearer <token>)
EVOTOR_WEBHOOK_AUTH_TOKEN=

# - Basic auth: Authorization: Basic base64(login:password)
EVOTOR_WEBHOOK_BASIC_USER=
EVOTOR_WEBHOOK_BASIC_PASS=

# Optional: API server port (default 3001)
# PORT=3001

# Auth (phone OTP)

# - SMS_PROVIDER=console prints codes to the API server console (dev-friendly)
# - SMS_PROVIDER=smsru sends real SMS via sms.ru (requires SMS_RU_API_ID)

SMS_PROVIDER=console
# SMS_RU_API_ID=
# SMS_SENDER= (optional; configure sender name in sms.ru, or leave empty to use default)

# OTP/session tuning (optional)
# OTP_TTL_MS=300000
# OTP_RESEND_COOLDOWN_MS=30000
# OTP_MAX_ATTEMPTS=5
# OTP_MAX_REQUESTS_PER_HOUR_PHONE=5
# OTP_MAX_REQUESTS_PER_HOUR_IP=20
# SESSION_COOKIE_NAME=obedi_session
# SESSION_TTL_MS=604800000
# SESSION_ROTATE_AFTER_MS=86400000
# SESSION_SINGLE_ACTIVE=false
# SESSION_CLEANUP_INTERVAL_MS=300000
# COOKIE_SECURE=false

# SQLite tuning (optional)
# SQLITE_JOURNAL_MODE=WAL
# SQLITE_BUSY_TIMEOUT_MS=5000
# SQLITE_FOREIGN_KEYS=true

# Proxy / security (optional)
# TRUST_PROXY_HEADERS=false
# TRUSTED_PROXY_IPS=127.0.0.1,10.0.0.0/8
# CSRF_ORIGIN_CHECK=false
# CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
# ALLOWED_HOSTS=obedi-vl.ru,www.obedi-vl.ru,localhost,127.0.0.1

# Abuse protection (optional)
# AI_MAX_REQUESTS_PER_MINUTE_IP=10
# AI_MAX_REQUESTS_PER_HOUR_IP=60
# DELIVERY_MAX_REQUESTS_PER_MINUTE_IP=30
# DELIVERY_MAX_REQUESTS_PER_HOUR_IP=600

# Delivery zone lookup (geocoder + OSRM)
#
# NOTE: The public Nominatim instance may block your IP if you exceed its usage policy.
# For production, use a paid geocoder or your own instance.
#
# DELIVERY_GEOCODER_PROVIDER=photon  # photon | nominatim | auto
# NOMINATIM_BASE_URL=https://nominatim.openstreetmap.org
# PHOTON_BASE_URL=https://photon.komoot.io
# DELIVERY_ZONE_CACHE_TTL_MS=86400000
